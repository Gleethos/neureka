{
  "className":"ut.backend.core.Backend_Algorithm_AD_Spec",
  "title":"",
  "narrative":"",
  "subjects":[],
  "statistics":{
    "runs":"4",
    "successRate":"100.0%",
    "failures":"0",
    "errors":"0",
    "skipped":"0",
    "duration":"0.429 seconds"
  },
  "headers":[],"tags":{},"see":[],
  "features":[ 
    {
      "id":"Operator implementations behave as expected.",
      "result":"PASS",
      "duration":"0.138 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"The current Neureka instance is being reset.","code":["Neureka.get().reset()"]},

        {"kind":"and","text":"A mock ExecutionCall.","code":["def call = Mock(ExecutionCall)","call.inputs() >> new Tsr<?>[0]"]},

        {"kind":"when","text":"A auto diff mode is being created by every algorithm...","code":["AutoDiffMode mode = imp.autoDiffModeFrom( call )"]},

        {"kind":"then","text":"The agent is configured to perform forward-AD and it contains the derivative generated by the function!","code":["mode != null"]},

        {"kind":"where","text":"The variable \"imp\" is from a List of OperationType implementations of type \"Operator\".","code":{"imp":["BiElementWise@517cb4f5[name=elementwise,support=[CPU,OpenCLDevice]]","BiElementWise@6022199[name=elementwise,support=[CPU,OpenCLDevice]]","BiElementWise@70bcc867[name=elementwise,support=[CPU,OpenCLDevice]]","BiElementWise@1fbd28b[name=elementwise,support=[CPU,OpenCLDevice]]","BiElementWise@45696fc0[name=elementwise,support=[CPU,OpenCLDevice]]"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Activation implementations behave as expected.",
      "result":"PASS",
      "duration":"0.041 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"The current Neureka instance is being reset.","code":["Neureka.get().reset()"]},

        {"kind":"and","text":"A mock Function.","code":["def function = Mock(Function)","def derivative = Mock(Tsr)","def mutate = Mock(MutateTsr)","function.derive(*_) >> derivative","function.executeDerive(*_) >> derivative","derivative.getMut() >> mutate"]},

        {"kind":"and","text":"A mock ExecutionCall.","code":["var call = ExecutionCall.of().running(Mock(Operation)).on(Mock(Device))"]},

        {"kind":"when","text":"","code":["var suitability = imp.isSuitableFor(call)"]},

        {"kind":"then","text":"","code":["0 <= suitability && suitability <= 1"]},

        {"kind":"when","text":"","code":["var mode = imp.autoDiffModeFrom(call)"]},

        {"kind":"then","text":"","code":["mode != null"]},

        {"kind":"where","text":"The variable \"imp\" is from a List of OperationType implementations of type \"Activation\".","code":{"imp":["Activation@2a7c96d5[name=activation,support=[CPU,OpenCLDevice]]","Activation@4d8a0fa2[name=activation,support=[CPU,OpenCLDevice]]","Activation@4cae4f19[name=activation,support=[CPU,OpenCLDevice]]","Activation@4d1df80e[name=activation,support=[CPU,OpenCLDevice]]","Activation@79757113[name=activation,support=[CPU,OpenCLDevice]]","Activation@5544c79[name=activation,support=[CPU,OpenCLDevice]]","Activation@2128bcc8[name=activation,support=[CPU,OpenCLDevice]]","Activation@b05dc63[name=activation,support=[CPU,OpenCLDevice]]","Activation@29aeaefa[name=activation,support=[CPU,OpenCLDevice]]","Activation@5d7d8b80[name=activation,support=[CPU,OpenCLDevice]]","Activation@25d0d070[name=activation,support=[CPU,OpenCLDevice]]","Activation@4f7af2c1[name=activation,support=[CPU,OpenCLDevice]]","Activation@62cb395f[name=activation,support=[CPU,OpenCLDevice]]","Activation@416d3d02[name=activation,support=[CPU,OpenCLDevice]]","Activation@4e90afec[name=activation,support=[CPU,OpenCLDevice]]","Activation@34fa2d46[name=activation,support=[CPU,OpenCLDevice]]","Activation@4d924511[name=activation,support=[CPU,OpenCLDevice]]","Activation@e23fb18[name=activation,support=[CPU,OpenCLDevice]]","Activation@6b922cbe[name=activation,support=[CPU,OpenCLDevice]]","Activation@73c0329c[name=activation,support=[CPU,OpenCLDevice]]","Activation@7dbad6d[name=activation,support=[CPU,OpenCLDevice]]","Activation@4015deca[name=activation,support=[CPU,OpenCLDevice]]","Activation@53ad085c[name=activation,support=[CPU,OpenCLDevice]]","Activation@15cdfb19[name=activation,support=[CPU,OpenCLDevice]]","Activation@1c8ac73f[name=activation,support=[CPU,OpenCLDevice]]"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Convolution implementations behave as expected.",
      "result":"PASS",
      "duration":"0.002 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"The current Neureka instance is being reset.","code":["Neureka.get().reset()"]},

        {"kind":"and","text":"A mock ExecutionCall.","code":["var call = ExecutionCall.of().running(Mock(Operation)).on(Mock(Device))"]},

        {"kind":"when","text":"","code":["var suitability = imp.isSuitableFor(call)"]},

        {"kind":"then","text":"","code":["0 <= suitability && suitability <= 1"]},

        {"kind":"when","text":"","code":["var mode = imp.autoDiffModeFrom(call)"]},

        {"kind":"then","text":"","code":["mode != null"]},

        {"kind":"where","text":"The variable \"imp\" is from a List of Operation implementations of type \"Convolution\".","code":{"imp":["NDConvolution@3d89d3d9[name=convolution,support=[CPU,OpenCLDevice]]"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Broadcast implementations behave as expected.",
      "result":"PASS",
      "duration":"0.053 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"The current Neureka instance is being reset.","code":["Neureka.get().reset()"]},

        {"kind":"and","text":"A mock Function.","code":["def function = Mock( Function )","def derivative = Mock( Tsr )","def ndConf = Mock(NDConfiguration)","function.derive(*_) >> derivative","function.executeDerive(*_) >> derivative","derivative.getNDConf() >> ndConf","ndConf.shape() >> [1, 2]","derivative.getItemType() >> Float","derivative.itemType() >> Float"]},

        {"kind":"and","text":"A mock ExecutionCall.","code":["def call = Mock( ExecutionCall )","def arg = Mock(Arg.Derivative)","call.get(Arg.Derivative.class) >> arg","call.autogradMode() >> AutoDiffMode.FORWARD_AND_BACKWARD"]},

        {"kind":"when","text":"A new ADAction is being instantiated by calling the given implementation with these arguments...","code":["ADAction agent = imp.supplyADActionFor(function, call)"]},

        {"kind":"then","text":"An exception is being thrown because implementations of type \"Broadcast\" can only perform reverse mode AD!","code":["def exception = thrown( IllegalArgumentException )","exception.message == \"Broadcast implementation does not support forward-AD!\""]},

        {"kind":"when","text":"The agent generator is called once more with the forward flag set to false...","code":["agent = imp.supplyADActionFor(function, call)"]},

        {"kind":"then","text":"","code":["(0.._) * call.inputs() >> new Tsr[]{derivative, derivative}","(0.._) * call.input(_) >> derivative","(1.._) * call.autogradMode() >> AutoDiffMode.BACKWARD_ONLY"]},

        {"kind":"and","text":"No exception is being thrown and the agent is configured to perform backward-AD.","code":["agent.partialDerivative().get() == derivative || agent.partialDerivative().get().toString({it.isMultiline=false}) == \"(1x2):[  0.0 ,   0.0 ]\""]},

        {"kind":"where","text":"The variable \"imp\" is from a List of OperationType implementations of type \"Convolution\".","code":{"imp":["Broadcast@770f48fd[name=broadcast,support=[CPU,OpenCLDevice]]","Broadcast@184ab123[name=broadcast,support=[CPU,OpenCLDevice]]","Broadcast@53eea3b2[name=broadcast,support=[CPU,OpenCLDevice]]","Broadcast@43540bce[name=broadcast,support=[CPU,OpenCLDevice]]","Broadcast@72fe6146[name=broadcast,support=[CPU,OpenCLDevice]]","Broadcast@75945b89[name=broadcast,support=[CPU,OpenCLDevice]]"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    }
  
  ],
  "generator":"https://github.com/renatoathaydes/spock-reports"
}