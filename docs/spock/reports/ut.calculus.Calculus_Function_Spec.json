{
  "className":"ut.calculus.Calculus_Function_Spec",
  "title":"Testing Default Methods on Functions",
  "narrative":"This specification tests the default methods on functions\n    through a simple dummy implementation of the Function interface.",
  "subjects":["java.util.function.Function"],
  "statistics":{
    "runs":"4",
    "successRate":"100.0%",
    "failures":"0",
    "errors":"0",
    "skipped":"0",
    "duration":"0.246 seconds"
  },
  "headers":[],"tags":{},"see":[],
  "features":[ 
    {
      "id":"Function implementations ensure that internally created tensors are flagged as \"intermediate\" initially!",
      "result":"PASS",
      "duration":"0.040 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"","code":["var fun1 = new DummyFunction((Args args, Tsr<?>[] tensors) -> {","    var outputs = [Tsr.of(1d)]","    tensors.length.times { outputs.add(tensors[it]) }","    return outputs[0]","})"]},

        {"kind":"and","text":"","code":["var fun2 = new DummyFunction((Args args, Tsr<?>[] tensors) -> {","    var outputs = [Tsr.of(1d)]","    tensors.length.times { outputs.add(tensors[it]) }","    return outputs[0].unsafe.setIsIntermediate(true)","})"]},

        {"kind":"and","text":"","code":["var a = Tsr.of(3d)","var b = Tsr.of(-2.5)"]},

        {"kind":"expect","text":"","code":["!a.isIntermediate()","!b.isIntermediate()"]},

        {"kind":"when","text":"","code":["caller(a, b, fun1)"]},

        {"kind":"then","text":"","code":["thrown(IllegalStateException)"]},

        {"kind":"when","text":"","code":["caller(a, b, fun2)"]},

        {"kind":"then","text":"","code":["noExceptionThrown()"]},

        {"kind":"where","text":"","code":{"caller":["ut.calculus.Calculus_Function_Spec$__spock_feature_0_0prov0_closure3@60fc84b2","ut.calculus.Calculus_Function_Spec$__spock_feature_0_0prov0_closure4@7a7c731c","ut.calculus.Calculus_Function_Spec$__spock_feature_0_0prov0_closure5@6a836492"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Function implementations ensure that outputs which are input members are not flagged as \"intermediate\"!",
      "result":"PASS",
      "duration":"0.013 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"","code":["var fun1 = new DummyFunction((Args args, Tsr<?>[] tensors) -> tensors[0] )"]},

        {"kind":"and","text":"","code":["var fun2 = new DummyFunction((Args args, Tsr<?>[] tensors) -> {","    return tensors[0].unsafe.setIsIntermediate( true ) // This should fail!","})"]},

        {"kind":"and","text":"","code":["var a = Tsr.of(3.0)","var b = Tsr.of(-2.5)"]},

        {"kind":"expect","text":"","code":["!a.isIntermediate()","!b.isIntermediate()"]},

        {"kind":"when","text":"","code":["caller(a, b, fun1)"]},

        {"kind":"then","text":"","code":["noExceptionThrown()"]},

        {"kind":"when","text":"","code":["caller(a, b, fun2)"]},

        {"kind":"then","text":"","code":["thrown(IllegalStateException)"]},

        {"kind":"where","text":"","code":{"caller":["ut.calculus.Calculus_Function_Spec$__spock_feature_0_1prov0_closure8@3e0a03f9","ut.calculus.Calculus_Function_Spec$__spock_feature_0_1prov0_closure9@7f5d07f6","ut.calculus.Calculus_Function_Spec$__spock_feature_0_1prov0_closure10@6ff846f4"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Function implementations will ensure the \"call\" and \"invoke\" does not return tensors flagged as \"intermediate\".",
      "result":"PASS",
      "duration":"0.006 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"","code":["var fun = new DummyFunction((Args args, Tsr<?>[] tensors) -> {","    return Tsr.of(42f).unsafe.setIsIntermediate(true)","})"]},

        {"kind":"and","text":"","code":["var a = Tsr.of(3d)","var b = Tsr.of(-2.5)"]},

        {"kind":"expect","text":"","code":["!a.isIntermediate()","!b.isIntermediate()"]},

        {"kind":"when","text":"","code":["var t1 = fun.call(a, b)","var t2 = fun.invoke(a, b)","var t3 = fun.execute(a, b)"]},

        {"kind":"then","text":"","code":["!t1.isIntermediate()","!t2.isIntermediate()","t3.isIntermediate()"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"The library context exposes a set of useful functions.",
      "result":"PASS",
      "duration":"0.027 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"expect","text":"","code":["fun.apply(Neureka.get().backend.function).toString() == expected","!fun.apply(Neureka.get().backend.function).isDoingAD()"]},

        {"kind":"and","text":"","code":["fun.apply(Neureka.get().backend.autogradFunction).toString() == expected","fun.apply(Neureka.get().backend.autogradFunction).isDoingAD()"]},

        {"kind":"where","text":"","code":{"expected":["ln(I[0])","ln(I[0])","gaus(I[0])","gaus(I[0])","fast_gaus(I[0])","fast_gaus(I[0])","sig(I[0])","sig(I[0])","tanh(I[0])","tanh(I[0])","fast_tanh(I[0])","fast_tanh(I[0])","softsign(I[0])","softsign(I[0])","softsign(I[0])","quad(I[0])","quad(I[0])","relu(I[0])","relu(I[0])","abs(I[0])","abs(I[0])","sin(I[0])","sin(I[0])","cos(I[0])","cos(I[0])","softplus(I[0])","softplus(I[0])","silu(I[0])","silu(I[0])","gelu(I[0])","gelu(I[0])","selu(I[0])","selu(I[0])"],"fun":["ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure12@7c6d8723","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure13@782e0665","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure14@5a468afa","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure15@24bf0a19","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure16@4403ddef","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure17@32ccb288","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure18@53b1a807","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure19@5805291c","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure20@7789bb55","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure21@1da3ef74","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure22@1eee1b2b","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure23@1d98886d","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure24@7de43042","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure25@38c2e7c7","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure26@12f306f7","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure27@1d2bd796","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure28@65e4e3c0","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure29@5ce714be","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure30@658a2041","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure31@413df5a6","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure32@55fd5bae","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure33@3c2cc2a6","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure34@6a8376bf","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure35@23c115b8","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure36@1679473f","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure37@7bd6d6c5","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure38@3759967f","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure39@2c9fafbc","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure40@6fdca6c8","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure41@197346a8","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure42@95acffa","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure43@3759d8e5","ut.calculus.Calculus_Function_Spec$__spock_feature_0_3prov1_closure44@176413e2"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    }
  
  ],
  "generator":"https://github.com/renatoathaydes/spock-reports"
}