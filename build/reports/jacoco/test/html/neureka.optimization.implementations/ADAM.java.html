<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ADAM.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">neureka</a> &gt; <a href="index.source.html" class="el_package">neureka.optimization.implementations</a> &gt; <span class="el_source">ADAM.java</span></div><h1>ADAM.java</h1><pre class="source lang-java linenums">package neureka.optimization.implementations;

import neureka.Tsr;
import neureka.function.Function;
import neureka.function.factory.assembly.FunctionBuilder;

public class ADAM {

    //VARIABLES...
    private Tsr a;
    private Tsr b1;
    private Tsr b2;
    private Tsr e;
<span class="nc" id="L14">    Tsr m = null;</span>
<span class="nc" id="L15">    Tsr v = null;</span>
<span class="nc" id="L16">    Tsr w = null;</span>

<span class="nc" id="L18">    ADAM(Tsr target){</span>
<span class="nc" id="L19">        w = target;</span>
<span class="nc" id="L20">        int[] shape = target.shape();</span>
<span class="nc" id="L21">        m = new Tsr(shape, 0);</span>
<span class="nc" id="L22">        v = new Tsr(shape, 0);</span>
<span class="nc" id="L23">        a = new Tsr(shape, 0.001);</span>
<span class="nc" id="L24">        b1 = new Tsr(shape, 0.9);</span>
<span class="nc" id="L25">        b2 = new Tsr(shape, 0.999);</span>
<span class="nc" id="L26">        e = new Tsr(shape, 0.000000001);</span>
<span class="nc" id="L27">    }</span>

    private void _optimize(){
<span class="nc" id="L30">        Function inject = FunctionBuilder.build(&quot;I[0]&lt;&lt;Ig[1]&quot;, false);</span>
<span class="nc" id="L31">        Tsr g = new Tsr(w.shape());</span>
<span class="nc" id="L32">        inject.activate(new Tsr[]{g, w});</span>

<span class="nc" id="L34">        m = new Tsr(b1, &quot;*&quot;, m, &quot;+(1-&quot;, b1, &quot;)*&quot;, g);</span>
<span class="nc" id="L35">        v = new Tsr(b2, &quot;*&quot;, v, &quot;+(1-&quot;, b2, &quot;)*&quot;, g);</span>

<span class="nc" id="L37">        Tsr mh = null;</span>
<span class="nc" id="L38">        Tsr vh = null;</span>

<span class="nc" id="L40">        mh = new Tsr(m, &quot;/(1-&quot;, b1, &quot;)&quot;);</span>
<span class="nc" id="L41">        vh = new Tsr(v, &quot;/(1-&quot;, b2, &quot;)&quot;);</span>

<span class="nc" id="L43">        Tsr newW = new Tsr(w,&quot;-&quot;,a,&quot;*(&quot;,mh,&quot;/(&quot;,vh,&quot;^-2+&quot;,e,&quot;))&quot;);</span>
<span class="nc" id="L44">        Function f = FunctionBuilder.build(&quot;I[0]&lt;&lt;I[1]&quot;, false);</span>
<span class="nc" id="L45">        Function r = FunctionBuilder.build(&quot;Ig[0]&lt;&lt;0&quot;, false);</span>
<span class="nc" id="L46">        f.activate(new Tsr[]{w, newW});</span>
<span class="nc" id="L47">        r.activate(new Tsr[]{w});</span>
<span class="nc" id="L48">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>